<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Zack McCauley">
        <meta name="description" content="Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.">
        <meta name="keywords" content="blog,personal,technology,macos,macadmin,python,github">
        <meta name="generator" content="Hugo 0.54.0" />
        <title> uBlock Origin Admin Settings Deployment | Zack McCauley - WardsParadox</title>
        <meta name="description" content="uBlock Origin Admin Settings Deployment - Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.">
        <meta itemprop="name" content="uBlock Origin Admin Settings Deployment">
        <meta itemprop="description" content="uBlock Origin Admin Settings Deployment - Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.">
        <meta property="og:title" content="uBlock Origin Admin Settings Deployment">
        <meta property="og:description" content="uBlock Origin Admin Settings Deployment - Hi, I’m a macadmin for a school district in Montana. I like to program things sometimes. I am always learning.">
        <meta property="og:image" content="/images/avatar.jpg">
        <meta property="og:url" content="https://wardsparadox.github.io/2019/02/ublock-origin-admin-settings-deployment/">
        <meta property="og:site_name" content="Zack McCauley - WardsParadox">
        <meta property="og:type" content="article">
            
    <link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png"
        sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png"
        sizes="192x192">
    <link rel="icon" type="image/png" href="/favicons/favicon-96x96.png"
        sizes="96x96">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png"
        sizes="16x16">
    <link rel="manifest" href="/favicons/manifest.json">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg"
        color="#5bbad5">
    <meta name="msapplication-TileColor" content="#fffff">
    <meta name="msapplication-TileImage" content="/favicons/mstile-144x144.png">
    <meta name="themesettings-color" content="#ffffff">
    
        <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">

	

        
        
        
        
        <link rel="stylesheet" href="/sass/combined.min.9712af705f99df4936d847014cfb11cf8cfc2bd284989ac45f5bfe711ab162a8.css">

        

        
            
                <link rel="stylesheet" href="https://wardsparadox.github.io/assets/custom.css">
            
                <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/atom-one-light.min.css">
            
        
    </head>
    <body class="bilberry-hugo-theme">
        
<nav>

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="/" target="">Home</a></li>
                
            
                
                    <li><a href="/page/about/">About me</a></li>
                
            
                
                    <li><a href="/tags" target="">Tags</a></li>
                
            
                
                    <li><a href="/projects" target="">Projects</a></li>
                
            
        </ul>

        
    </div>
</nav>


        <header>
    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="/images/avatar.jpg" alt="">
                

                <span class="overlay"><i class="fa fa-spin fa-circle-o-notch"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title"><a href="/">Zack McCauley - WardsParadox</a></h3>
            
                <span class="subtitle">Hi, I’m a macadmin for a school district in Montana. Never stop learning.</span>
            
        </div>

    

        
        <div class="toggler">
        
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </div>
</header>


        <div class="main container">
            
     
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="/2019/02/ublock-origin-admin-settings-deployment/">
    <i class="fa fa-fw fa-pencil"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/2019/02/ublock-origin-admin-settings-deployment/">uBlock Origin Admin Settings Deployment</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2019-02-27</span>
            
        

        

        

        
    </div>

    
        <p>As our district has made the decision to push out uBlock, we had to include a whitelist. The documentation on uBlock's github wiki was not clear enough for me on how to deploy settings. On the macOS side of things, pushing out the configuration profile was easy enough, but the ChromeOS configuration was a bit trickier.</p>

<p>Our configuration for our macs is:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">      <span style="color:#f92672">&lt;dict&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadType<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;string&gt;</span>com.google.Chrome.extensions.cjpalhdlnbpafiamejdnhcphjbkeiagm<span style="color:#f92672">&lt;/string&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadVersion<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;integer&gt;</span>1<span style="color:#f92672">&lt;/integer&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadIdentifier<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;string&gt;</span>6104A0A4-10AB-4219-9AD7-8FADDB1EC29D<span style="color:#f92672">&lt;/string&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadUUID<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;string&gt;</span>6104A0A4-10AB-4219-9AD7-8FADDB1EC29D<span style="color:#f92672">&lt;/string&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadEnabled<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;true/&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>PayloadDisplayName<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;string&gt;</span>uBlock settings<span style="color:#f92672">&lt;/string&gt;</span>
        <span style="color:#f92672">&lt;key&gt;</span>adminSettings<span style="color:#f92672">&lt;/key&gt;</span>
        <span style="color:#f92672">&lt;string&gt;</span>{&#34;userSettings&#34;:{&#34;alwaysDetachLogger&#34;:true,&#34;autoUpdate&#34;:true},&#34;selectedFilterLists&#34;:[&#34;plowe-0&#34;,&#34;malware-1&#34;,&#34;malware-0&#34;,&#34;easyprivacy&#34;,&#34;easylist&#34;,&#34;ublock-unbreak&#34;,&#34;ublock-abuse&#34;,&#34;ublock-privacy&#34;,&#34;ublock-badware&#34;,&#34;ublock-filters&#34;,&#34;user-filters&#34;],&#34;netWhitelist&#34;:&#34;about-scheme\nchrome-extension-scheme\nchrome-scheme\ncloud.sophos.com\nimaginelearning.com\nimaginelearning.net\nlibrary.bsd7.org\nmoz-extension-scheme\nopera-scheme\nsecure2.sophos.com\nvivaldi-scheme\nwww.dell.com\nwww.paragon-software.com\nwww.thedash.com\nwyciwyg-scheme\nwalsworthyearbooks.com&#34;}<span style="color:#f92672">&lt;/string&gt;</span>
      <span style="color:#f92672">&lt;/dict&gt;</span></code></pre></div></p>

<p>Per the documentation:
<em>Now, the value for adminSettings must itself be a plain string, and this means we need to encode the above text into a string, using JSON.stringify. Here is a small utility to help you deal with this step: <a href="http://raymondhill.net/ublock/adminSetting.html">http://raymondhill.net/ublock/adminSetting.html</a>.</em></p>

<p>We need to set the admin settings to a string value. For some reason this just really didn't sit with my brain when converting back to a JSON value for the Chrome config. I could see that there was a key caled <code>adminSettings</code> and that it needed a value that was a stringifyied dictionary of the settings. What I didn't realize is that for the ChromeOS json file is that it needed a key called <code>Value</code> and that it's value was the stringified dictionary.</p>

<p>Here is our ChromeOS configuration. Hopefully this helps.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;adminSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Value&#34;</span>: <span style="color:#e6db74">&#34;{\&#34;selectedFilterLists\&#34;:[\&#34;plowe-0\&#34;,\&#34;malware-1\&#34;,\&#34;malware-0\&#34;,\&#34;easyprivacy\&#34;,\&#34;easylist\&#34;,\&#34;ublock-unbreak\&#34;,\&#34;ublock-abuse\&#34;,\&#34;ublock-privacy\&#34;,\&#34;ublock-badware\&#34;,\&#34;ublock-filters\&#34;,\&#34;user-filters\&#34;],\&#34;netWhitelist\&#34;:\&#34;about-scheme\\nchrome-extension-scheme\\nchrome-scheme\\ncloud.sophos.com\\nimaginelearning.com\\nimaginelearning.net\\nlibrary.bsd7.org\\nmoz-extension-scheme\\nopera-scheme\\nsecure2.sophos.com\\nvivaldi-scheme\\nwww.dell.com\\nwww.paragon-software.com\\nwww.thedash.com\\nwyciwyg-scheme\\nwalsworthyearbooks.com\&#34;}&#34;</span>
    }
}</code></pre></div>

<p>To update and modify the values, I'd recommend using the <a href="http://raymondhill.net/ublock/adminSetting.html">adminSetting tool</a> to un-stringify the JSON, make the change to the section you need, then re-stringify the edits.</p>
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/chromeos">chromeos</a>
                
                    <a href="/tags/profiles">profiles</a>
                
            </div>
        </div>
    

    
</div>

</article>

        
    </div>

    
        
    

     

        </div>

        
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
                <ul>
                
                    <li>
                        <a href="/2019/09/munki-url-redirector/">Munki URL Redirector</a>
                    </li>
                
                    <li>
                        <a href="/2019/02/ublock-origin-admin-settings-deployment/">uBlock Origin Admin Settings Deployment</a>
                    </li>
                
                    <li>
                        <a href="/2018/10/google-packages-and-munki/">Google Packages and Munki</a>
                    </li>
                
                    <li>
                        <a href="/2018/09/force-a-dep-sync..from-your-phone/">Force a DEP sync..from your phone!</a>
                    </li>
                
                    <li>
                        <a href="/2018/04/modifying-safaris-auto-play-preferences/">Modifying Safari&#39;s Auto-Play Preferences</a>
                    </li>
                
                    <li>
                        <a href="/2018/02/setting-up-munkireport-php-on-ubuntu-16-with-nginx/">Setting up MunkiReport-PHP on Ubuntu 16 with Nginx</a>
                    </li>
                
                    <li>
                        <a href="/2018/01/faster-munki-downloads-from-nginx/">Faster Munki Downloads from Nginx</a>
                    </li>
                
                </ul>
        </div>
        

        
        <div class="categories">
            <a href="/tags/"><strong>Tags</strong></a>
                <ul>
                
                    <li>
                        <a href="/tags/munki">Munki (6)</a>
                    </li>
                
                    <li>
                        <a href="/tags/python">Python (6)</a>
                    </li>
                
                    <li>
                        <a href="/tags/til">Til (4)</a>
                    </li>
                
                    <li>
                        <a href="/tags/nginx">Nginx (2)</a>
                    </li>
                
                    <li>
                        <a href="/tags/chromeos">Chromeos (1)</a>
                    </li>
                
                    <li>
                        <a href="/tags/dock-maintainer">Dock maintainer (1)</a>
                    </li>
                
                    <li>
                        <a href="/tags/hello-it">Hello it (1)</a>
                    </li>
                
            </ul>
        </div>
        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                
                    <a href="https://twitter.com/mccauley_zack" target="_blank"><i class="fa fa-twitter-adblock-proof"></i></a>
                
                
                
                
                
                
                
                
                
                    <a href="https://github.com/WardsParadox" target="_blank"><i class="fa fa-github"></i></a>
                
                
                
                    <a href="https://macadmins.slack.com/team/U0862G7K9" target="_blank"><i class="fa fa-slack"></i></a>
                
            </div>
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/WardsParadox" target="_blank">
                &copy;
                
                    2019
                
                by Zack McCauley
            </a>
	    
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme" target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-99065592-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


        

        
        
        <script type="text/javascript" src="/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js" integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script>

        
        
        <script type="text/javascript" src="/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js" integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script>

        <script>
            $(".moment").each(function() {
                $(this).text(
                    moment( $(this).text() )
                        .locale( "en" )
                        .format('LL')
                );
            });

            $(".footnote-return sup").html("");
        </script>

        
            
        

        


    </body>
</html>
